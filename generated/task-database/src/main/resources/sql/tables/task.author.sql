-- Table: task.author;

-- DROP TABLE task.author;

CREATE TABLE IF NOT EXISTS task.author (
    author_id BIGSERIAL NOT NULL,
    CONSTRAINT pk_task_author_author_id PRIMARY KEY (author_id)
);

ALTER TABLE task.author
ADD COLUMN IF NOT EXISTS full_name TEXT NOT NULL UNIQUE,
ADD COLUMN IF NOT EXISTS bio TEXT
    CONSTRAINT task_author_bio_max_check CHECK (char_length(bio) <= 5),

ADD COLUMN IF NOT EXISTS created_on TIMESTAMP WITH TIME ZONE DEFAULT now(),
ADD COLUMN IF NOT EXISTS created_by BIGINT NOT NULL,
ADD COLUMN IF NOT EXISTS modified_on TIMESTAMP WITH TIME ZONE,
ADD COLUMN IF NOT EXISTS modified_by BIGINT,
ADD COLUMN IF NOT EXISTS deleted_on TIMESTAMP WITH TIME ZONE,
ADD COLUMN IF NOT EXISTS deleted_by BIGINT,
ADD COLUMN IF NOT EXISTS deleted BOOLEAN NOT NULL DEFAULT FALSE;